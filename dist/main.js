!function(){"use strict";var t={d:function(e,n){for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},o:function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}};function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}function n(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,r(o.key),o)}}function r(t){var n=function(t){if("object"!=e(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==e(n)?n:n+""}t.d({},{$:function(){return D},v:function(){return A}});var o=function(){return t=function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._name=e,this._link=n,this._card=this.getTemplate(),this._handleCardClick=r},(e=[{key:"getTemplate",value:function(){return A.cloneNode(!0).content.querySelector(".elements__card")}},{key:"setProperties",value:function(){this._cardImage=this._card.querySelector(".elements__image"),this._cardTitle=this._card.querySelector(".elements__title"),this._buttonDeleteCard=this._card.querySelector(".elements__image-trash"),this._buttonLike=this._card.querySelector(".elements__image-like"),this._cardImage.src=this._link,this._cardTitle.textContent=this._name,this._cardImage.alt=this._name}},{key:"handleLike",value:function(){this._buttonLike.classList.toggle("elements__image-like_active")}},{key:"setEventListeners",value:function(){var t=this;this._buttonDeleteCard.addEventListener("click",(function(){t._card.remove()})),this._buttonLike.addEventListener("click",(function(){t.handleLike()})),this._cardImage.addEventListener("click",(function(){t._handleCardClick(t._name,t._link)}))}},{key:"generateCard",value:function(){return this.setProperties(),this.setEventListeners(),this._card}}])&&n(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,a(r.key),r)}}function a(t){var e=function(t){if("object"!=i(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==i(e)?e:e+""}var c=function(){return t=function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._formElement=document.querySelector(e),this.settings=n,this._inputList=Array.from(this._formElement.querySelectorAll(this.settings.inputSelector))},(e=[{key:"_showInputError",value:function(t,e){this.errorElement=this._formElement.querySelector(".".concat(t.id,"-error")),t.classList.add(this.settings.inputErrorClass),this.errorElement.textContent=e}},{key:"_hideInputError",value:function(t){this.errorElement=this._formElement.querySelector(".".concat(t.id,"-error")),t.classList.remove(this.settings.inputErrorClass),this.errorElement.textContent=""}},{key:"_checkInputValidity",value:function(t){t.validity.valid?this._hideInputError(t):this._showInputError(t,t.validationMessage)}},{key:"_hasInvalidInput",value:function(t){return t.some((function(t){return!t.validity.valid}))}},{key:"_toggleButtonState",value:function(t,e){this._hasInvalidInput(t)?(e.classList.add("popup__button_disabled"),e.disabled=!0):(e.classList.remove("popup__button_disabled"),e.disabled=!1)}},{key:"_setEventListeners",value:function(t,e){var n=this;this.inputList=Array.from(t.querySelectorAll(this.settings.inputSelector)),this.buttonElement=t.querySelector(".popup__button"),this._toggleButtonState(this.inputList,this.buttonElement),this.inputList.forEach((function(t){t.addEventListener("input",(function(){n._checkInputValidity(t),n._toggleButtonState(n.inputList,n.buttonElement)}))}))}},{key:"enableValidation",value:function(){this._formElement.addEventListener("submit",(function(t){t.preventDefault()})),this._setEventListeners(this._formElement,this.settings)}}])&&u(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,p(r.key),r)}}function p(t){var e=function(t){if("object"!=l(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==l(e)?e:e+""}var f=function(){return t=function t(e){var n,r,o,i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,o=function(t){"Escape"===t.key&&document.querySelectorAll(".popup__open").forEach((function(t){return i.close(t)}))},(r=p(r="_handleEscClose"))in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,this._popupElement=document.querySelector(e)},(e=[{key:"open",value:function(){this._popupElement.classList.add("popup__open"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popupElement.classList.remove("popup__open"),0===document.querySelectorAll(".popup__open").length&&document.removeEventListener("keydown",this._handleEscClose)}},{key:"setEventListeners",value:function(){var t=this;this._popupElement.querySelector(".popup__button-closed").addEventListener("click",(function(){t.close()})),D.forEach((function(t){t.addEventListener("click",(function(){t.parentNode.classList.remove("popup__open")}))}))}}])&&s(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function y(t){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y(t)}function m(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,b(r.key),r)}}function b(t){var e=function(t){if("object"!=y(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==y(e)?e:e+""}function v(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(v=function(){return!!t})()}function _(t,e,n,r){var o=d(h(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof o?function(t){return o.apply(n,t)}:o}function d(){return d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},d.apply(null,arguments)}function h(t){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},h(t)}function S(t,e){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},S(t,e)}var w=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=function(t,e,n){return e=h(e),function(t,e){if(e&&("object"==y(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,v()?Reflect.construct(e,n||[],h(t).constructor):e.apply(t,n))}(this,e,[t]))._formElement=r._popupElement.querySelector(".popup__form"),r._inputList=r._formElement.querySelectorAll(".popup__input"),r._handleFormSubmit=n,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&S(t,e)}(e,t),n=e,(r=[{key:"getInputValues",value:function(){var t=this;return this.formValues={},console.log(this._inputList),this._inputList.forEach((function(e){t.formValues[e.name]=e.value})),this.formValues}},{key:"close",value:function(){_(e,"close",this,3)([]),this._formElement.reset()}},{key:"setEventListeners",value:function(){var t=this;_(e,"setEventListeners",this,3)([]),this._popupElement.querySelector("form").addEventListener("submit",(function(n){n.preventDefault(),t._handleFormSubmit(t.getInputValues()),_(e,"close",t,3)([])}))}}])&&m(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(f);function E(t){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E(t)}function g(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(g=function(){return!!t})()}function k(t,e){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},k(t,e)}function j(){return j="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=O(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},j.apply(null,arguments)}function O(t){return O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},O(t)}function P(t){var e=function(t){if("object"!=E(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=E(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==E(e)?e:e+""}var L=function(t){function e(t){var n,r,o,i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=function(t,e,n){return e=O(e),function(t,e){if(e&&("object"==E(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,g()?Reflect.construct(e,n||[],O(t).constructor):e.apply(t,n))}(this,e,[t]),r=n,i=function(t,r){var o,i,u;(o=e,i=n,"function"==typeof(u=j(O(1&3?o.prototype:o),"open",i))?function(t){return u.apply(i,t)}:u)([]);var a=n._popupElement.querySelector(".popup__image-photo");a.src=r,a.alt=t,n._popupElement.querySelector(".popup__image-name").textContent=t},(o=P(o="open"))in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&k(t,e)}(e,t),n=e,Object.defineProperty(n,"prototype",{writable:!1}),n;var n}(f);function C(t){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C(t)}function q(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,T(r.key),r)}}function T(t){var e=function(t){if("object"!=C(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=C(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==C(e)?e:e+""}var I=function(){return t=function t(e,n){var r=e.items,o=e.renderer;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._items=r,this._renderer=o,this._container=document.querySelector(n)},(e=[{key:"renderer",value:function(){var t=this;this._items.forEach((function(e){t._renderer(e)}))}},{key:"addItem",value:function(t){this._container.append(t)}}])&&q(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function B(t){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B(t)}function x(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,R(r.key),r)}}function R(t){var e=function(t){if("object"!=B(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=B(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==B(e)?e:e+""}var V=function(){return t=function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._name=document.querySelector(e),this._job=document.querySelector(n)},(e=[{key:"getUserInfo",value:function(){return{name:this._name.textContent,job:this._job.textContent}}},{key:"setUserInfo",value:function(t,e){this._name.textContent=t,this._job.textContent=e}}])&&x(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}(),A=document.querySelector(".template-card"),D=document.querySelectorAll(".popup__overlay"),z=(document.querySelector(".profile__text"),document.querySelector(".profile__profession"),document.querySelector(".elements")),W=document.querySelector(".profile__edit-button"),N=document.querySelector(".profile__add-button"),U=new L("#popup-image");U.setEventListeners();var F=new c(".popup__profile-form",{formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error-visible"}),M=new c(".popup__card-form",{formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error-visible"});F.enableValidation(),M.enableValidation();var Y=new V(".profile__text",".profile__profession"),$=new w("#popup-profile",(function(t){Y.setUserInfo(t.name,t.description)})),G=new w("#popup-card",(function(t){var e=new o(t.title,t.link,U.open).generateCard();z.prepend(e)}));$.setEventListeners(),G.setEventListeners(),W.addEventListener("click",(function(){$.open()})),N.addEventListener("click",(function(){G.open()}));var H=new I({items:[{name:"Valle de Yosemite",link:"https://practicum-content.s3.us-west-1.amazonaws.com/new-markets/WEB_sprint_5/ES/yosemite.jpg"},{name:"Lago Louise",link:"https://practicum-content.s3.us-west-1.amazonaws.com/new-markets/WEB_sprint_5/ES/lake-louise.jpg"},{name:"Montañas Calvas",link:"https://practicum-content.s3.us-west-1.amazonaws.com/new-markets/WEB_sprint_5/ES/bald-mountains.jpg"},{name:"Latemar",link:"https://practicum-content.s3.us-west-1.amazonaws.com/new-markets/WEB_sprint_5/ES/latemar.jpg"},{name:"Parque Nacional de la Vanoise",link:"https://practicum-content.s3.us-west-1.amazonaws.com/new-markets/WEB_sprint_5/ES/vanoise.jpg"},{name:"Lago di Braies",link:"https://practicum-content.s3.us-west-1.amazonaws.com/new-markets/WEB_sprint_5/ES/lago.jpg"}],renderer:function(t){var e=new o(t.name,t.link,U.open).generateCard();H.addItem(e)}},".elements");H.renderer()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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R0FFUixDQUNFRCxLQUFNLGNBQ05DLEtBQU0sb0dBRVIsQ0FDRUQsS0FBTSxrQkFDTkMsS0FBTSx1R0FFUixDQUNFRCxLQUFNLFVBQ05DLEtBQU0sZ0dBRVIsQ0FDRUQsS0FBTSxnQ0FDTkMsS0FBTSxnR0FFUixDQUNFRCxLQUFNLGlCQUNOQyxLQUFNLDhGQTBETjhGLFNBQVUsU0FBQ0ksR0FDVCxJQUFNK0IsRUFBTyxJQUFJbkksRUFDZm9HLEVBQUtuRyxLQUNMbUcsRUFBS2xHLEtBQ0w2RyxFQUFXZ0IsTUFDWEMsZUFDRkUsRUFBVUUsUUFBUUQsRUFDcEIsR0FFRixhQUdGRCxFQUFVbEMsVSIsInNvdXJjZXMiOlsid2VicGFjazovL3RyaXBsZXRlbi93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly90cmlwbGV0ZW4vd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL3RyaXBsZXRlbi93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL3RyaXBsZXRlbi8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vdHJpcGxldGVuLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly90cmlwbGV0ZW4vLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly90cmlwbGV0ZW4vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL3RyaXBsZXRlbi8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL3RyaXBsZXRlbi8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vdHJpcGxldGVuLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vdHJpcGxldGVuLy4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSByZXF1aXJlIHNjb3BlXG52YXIgX193ZWJwYWNrX3JlcXVpcmVfXyA9IHt9O1xuXG4iLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBkZWZpbml0aW9uKSB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iaiwgcHJvcCkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCk7IH0iLCJpbXBvcnQgeyB0ZW1wbGF0ZSB9IGZyb20gXCIuLi9pbmRleC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJkIHtcbiAgY29uc3RydWN0b3IobmFtZSwgbGluaywgaGFuZGxlQ2FyZENsaWNrKSB7XG4gICAgdGhpcy5fbmFtZSA9IG5hbWU7XG4gICAgdGhpcy5fbGluayA9IGxpbms7XG4gICAgdGhpcy5fY2FyZCA9IHRoaXMuZ2V0VGVtcGxhdGUoKTtcbiAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sgPSBoYW5kbGVDYXJkQ2xpY2s7XG4gIH1cblxuICBnZXRUZW1wbGF0ZSgpIHtcbiAgICByZXR1cm4gdGVtcGxhdGUuY2xvbmVOb2RlKHRydWUpLmNvbnRlbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50c19fY2FyZFwiKTtcbiAgfVxuXG4gIHNldFByb3BlcnRpZXMoKSB7XG4gICAgdGhpcy5fY2FyZEltYWdlID0gdGhpcy5fY2FyZC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRzX19pbWFnZVwiKTtcbiAgICB0aGlzLl9jYXJkVGl0bGUgPSB0aGlzLl9jYXJkLnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudHNfX3RpdGxlXCIpO1xuICAgIHRoaXMuX2J1dHRvbkRlbGV0ZUNhcmQgPSB0aGlzLl9jYXJkLnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudHNfX2ltYWdlLXRyYXNoXCIpO1xuICAgIHRoaXMuX2J1dHRvbkxpa2UgPSB0aGlzLl9jYXJkLnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudHNfX2ltYWdlLWxpa2VcIik7XG4gICAgdGhpcy5fY2FyZEltYWdlLnNyYyA9IHRoaXMuX2xpbms7XG4gICAgdGhpcy5fY2FyZFRpdGxlLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcbiAgICB0aGlzLl9jYXJkSW1hZ2UuYWx0ID0gdGhpcy5fbmFtZTtcbiAgfVxuXG4gIGhhbmRsZUxpa2UoKSB7XG4gICAgdGhpcy5fYnV0dG9uTGlrZS5jbGFzc0xpc3QudG9nZ2xlKFwiZWxlbWVudHNfX2ltYWdlLWxpa2VfYWN0aXZlXCIpO1xuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fYnV0dG9uRGVsZXRlQ2FyZC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5fY2FyZC5yZW1vdmUoKTtcbiAgICB9KTtcbiAgICB0aGlzLl9idXR0b25MaWtlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICB0aGlzLmhhbmRsZUxpa2UoKTtcbiAgICB9KTtcbiAgICB0aGlzLl9jYXJkSW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayh0aGlzLl9uYW1lLCB0aGlzLl9saW5rKTtcbiAgICB9KTtcbiAgfVxuXG4gIGdlbmVyYXRlQ2FyZCgpIHtcbiAgICB0aGlzLnNldFByb3BlcnRpZXMoKTtcbiAgICB0aGlzLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgcmV0dXJuIHRoaXMuX2NhcmQ7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xuICBjb25zdHJ1Y3Rvcihmb3JtRWxlbWVudCwgc2V0dGluZ3MpIHtcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZm9ybUVsZW1lbnQpO1xuICAgIHRoaXMuc2V0dGluZ3MgPSBzZXR0aW5ncztcbiAgICB0aGlzLl9pbnB1dExpc3QgPSBBcnJheS5mcm9tKFxuICAgICAgdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLnNldHRpbmdzLmlucHV0U2VsZWN0b3IpXG4gICAgKTtcbiAgfVxuXG4gIF9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQsIGVycm9yTWVzc2FnZSkge1xuICAgIHRoaXMuZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYFxuICAgICk7XG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5zZXR0aW5ncy5pbnB1dEVycm9yQ2xhc3MpO1xuICAgIHRoaXMuZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gZXJyb3JNZXNzYWdlO1xuICB9XG5cbiAgX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xuICAgIHRoaXMuZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYFxuICAgICk7XG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5zZXR0aW5ncy5pbnB1dEVycm9yQ2xhc3MpO1xuICAgIHRoaXMuZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gXCJcIjtcbiAgfVxuXG4gIF9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KSB7XG4gICAgaWYgKCFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpIHtcbiAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCwgaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcbiAgICB9XG4gIH1cblxuICBfaGFzSW52YWxpZElucHV0KGlucHV0TGlzdCkge1xuICAgIHJldHVybiBpbnB1dExpc3Quc29tZSgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICByZXR1cm4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZDtcbiAgICB9KTtcbiAgfVxuXG4gIF90b2dnbGVCdXR0b25TdGF0ZShpbnB1dExpc3QsIGJ1dHRvbkVsZW1lbnQpIHtcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KGlucHV0TGlzdCkpIHtcbiAgICAgIGJ1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZChcInBvcHVwX19idXR0b25fZGlzYWJsZWRcIik7XG4gICAgICBidXR0b25FbGVtZW50LmRpc2FibGVkID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwicG9wdXBfX2J1dHRvbl9kaXNhYmxlZFwiKTtcbiAgICAgIGJ1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoZm9ybUVsZW1lbnQsIHNldHRpbmdzKSB7XG4gICAgdGhpcy5pbnB1dExpc3QgPSBBcnJheS5mcm9tKFxuICAgICAgZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLnNldHRpbmdzLmlucHV0U2VsZWN0b3IpXG4gICAgKTtcbiAgICB0aGlzLmJ1dHRvbkVsZW1lbnQgPSBmb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19idXR0b25cIik7XG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUodGhpcy5pbnB1dExpc3QsIHRoaXMuYnV0dG9uRWxlbWVudCk7XG5cbiAgICB0aGlzLmlucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xuICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KTtcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUodGhpcy5pbnB1dExpc3QsIHRoaXMuYnV0dG9uRWxlbWVudCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XG4gICAgdGhpcy5fZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9KTtcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycyh0aGlzLl9mb3JtRWxlbWVudCwgdGhpcy5zZXR0aW5ncyk7XG4gIH1cbn1cbiIsImltcG9ydCB7IHBvcHVwT3ZlcmxheSB9IGZyb20gXCIuLi9pbmRleC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xuICB9XG5cbiAgb3BlbigpIHtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcInBvcHVwX19vcGVuXCIpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwicG9wdXBfX29wZW5cIik7XG4gICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucG9wdXBfX29wZW5cIikubGVuZ3RoID09PSAwKSB7XG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gICAgfVxuICB9XG5cbiAgX2hhbmRsZUVzY0Nsb3NlID0gKGV2dCkgPT4ge1xuICAgIGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XG4gICAgICBjb25zdCBvcGVuUG9wdXBzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5wb3B1cF9fb3BlblwiKTtcbiAgICAgIG9wZW5Qb3B1cHMuZm9yRWFjaCgocG9wdXApID0+IHRoaXMuY2xvc2UocG9wdXApKTtcbiAgICB9XG4gIH07XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50XG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fYnV0dG9uLWNsb3NlZFwiKVxuICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIH0pO1xuXG4gICAgcG9wdXBPdmVybGF5LmZvckVhY2goKG92ZXJsYXkpID0+IHtcbiAgICAgIG92ZXJsYXkuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgb3ZlcmxheS5wYXJlbnROb2RlLmNsYXNzTGlzdC5yZW1vdmUoXCJwb3B1cF9fb3BlblwiKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgaGFuZGxlRm9ybVN1Ym1pdCkge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Zvcm1cIik7XG4gICAgdGhpcy5faW5wdXRMaXN0ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5wb3B1cF9faW5wdXRcIik7XG4gICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IGhhbmRsZUZvcm1TdWJtaXQ7XG4gIH1cblxuICBnZXRJbnB1dFZhbHVlcygpIHtcbiAgICB0aGlzLmZvcm1WYWx1ZXMgPSB7fTtcbiAgICBjb25zb2xlLmxvZyh0aGlzLl9pbnB1dExpc3QpO1xuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge1xuICAgICAgdGhpcy5mb3JtVmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXMuZm9ybVZhbHVlcztcbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIHN1cGVyLmNsb3NlKCk7XG4gICAgdGhpcy5fZm9ybUVsZW1lbnQucmVzZXQoKTtcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgY29uc3QgZm9ybSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiZm9ybVwiKTtcbiAgICBmb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0KHRoaXMuZ2V0SW5wdXRWYWx1ZXMoKSk7XG4gICAgICBzdXBlci5jbG9zZSgpO1xuICAgIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgfVxuXG4gIG9wZW4gPSAobmFtZSwgbGluaykgPT4ge1xuICAgIHN1cGVyLm9wZW4oKTtcbiAgICBjb25zdCBpbWFnZU5vZGUgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faW1hZ2UtcGhvdG9cIik7XG4gICAgaW1hZ2VOb2RlLnNyYyA9IGxpbms7XG4gICAgaW1hZ2VOb2RlLmFsdCA9IG5hbWU7XG4gICAgY29uc3QgdGl0bGVOb2RlID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2ltYWdlLW5hbWVcIik7XG4gICAgdGl0bGVOb2RlLnRleHRDb250ZW50ID0gbmFtZTtcbiAgfTtcbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xuICBjb25zdHJ1Y3Rvcih7IGl0ZW1zLCByZW5kZXJlciB9LCBjb250YWluZXJTZWxlY3Rvcikge1xuICAgIHRoaXMuX2l0ZW1zID0gaXRlbXM7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcbiAgfVxuXG4gIHJlbmRlcmVyKCkge1xuICAgIHRoaXMuX2l0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgIHRoaXMuX3JlbmRlcmVyKGl0ZW0pO1xuICAgIH0pO1xuICB9XG5cbiAgYWRkSXRlbShlbGVtZW50KSB7XG4gICAgdGhpcy5fY29udGFpbmVyLmFwcGVuZChlbGVtZW50KTtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xuICBjb25zdHJ1Y3RvcihuYW1lU2VsZWN0b3IsIGpvYlNlbGVjdG9yKSB7XG4gICAgdGhpcy5fbmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobmFtZVNlbGVjdG9yKTtcbiAgICB0aGlzLl9qb2IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGpvYlNlbGVjdG9yKTtcbiAgfVxuXG4gIGdldFVzZXJJbmZvKCkge1xuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiB0aGlzLl9uYW1lLnRleHRDb250ZW50LFxuICAgICAgam9iOiB0aGlzLl9qb2IudGV4dENvbnRlbnQsXG4gICAgfTtcbiAgfVxuXG4gIHNldFVzZXJJbmZvKG5hbWUsIGpvYikge1xuICAgIHRoaXMuX25hbWUudGV4dENvbnRlbnQgPSBuYW1lO1xuICAgIHRoaXMuX2pvYi50ZXh0Q29udGVudCA9IGpvYjtcbiAgfVxufVxuIiwiaW1wb3J0IFwiLi9wYWdlcy9pbmRleC5jc3NcIjtcblxuaW1wb3J0IENhcmQgZnJvbSBcIi4vY29tcG9uZW50cy9DYXJkLmpzXCI7XG5cbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gXCIuL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xuXG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tIFwiLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanNcIjtcblxuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcblxuaW1wb3J0IFNlY3Rpb24gZnJvbSBcIi4vY29tcG9uZW50cy9TZWN0aW9uLmpzXCI7XG5cbmltcG9ydCBVc2VySW5mbyBmcm9tIFwiLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzXCI7XG5cbmV4cG9ydCBjb25zdCB0ZW1wbGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudGVtcGxhdGUtY2FyZFwiKTtcbmV4cG9ydCBjb25zdCBwb3B1cE92ZXJsYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnBvcHVwX19vdmVybGF5XCIpO1xuY29uc3QgcHJvZmlsZVRleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX3RleHRcIik7XG5jb25zdCBwcm9maWxlUHJvZmVzc2lvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fcHJvZmVzc2lvblwiKTtcbmNvbnN0IGNhcmRab25lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50c1wiKTtcbmNvbnN0IGVkaXRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2VkaXQtYnV0dG9uXCIpO1xuY29uc3QgYnV0dG9uQWRkQ2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYWRkLWJ1dHRvblwiKTtcblxuY29uc3QgaW5pdGlhbENhcmRzID0gW1xuICB7XG4gICAgbmFtZTogXCJWYWxsZSBkZSBZb3NlbWl0ZVwiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9uZXctbWFya2V0cy9XRUJfc3ByaW50XzUvRVMveW9zZW1pdGUuanBnXCIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIkxhZ28gTG91aXNlXCIsXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL25ldy1tYXJrZXRzL1dFQl9zcHJpbnRfNS9FUy9sYWtlLWxvdWlzZS5qcGdcIixcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiTW9udGHDsWFzIENhbHZhc1wiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9uZXctbWFya2V0cy9XRUJfc3ByaW50XzUvRVMvYmFsZC1tb3VudGFpbnMuanBnXCIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIkxhdGVtYXJcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vbmV3LW1hcmtldHMvV0VCX3NwcmludF81L0VTL2xhdGVtYXIuanBnXCIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIlBhcnF1ZSBOYWNpb25hbCBkZSBsYSBWYW5vaXNlXCIsXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL25ldy1tYXJrZXRzL1dFQl9zcHJpbnRfNS9FUy92YW5vaXNlLmpwZ1wiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJMYWdvIGRpIEJyYWllc1wiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9uZXctbWFya2V0cy9XRUJfc3ByaW50XzUvRVMvbGFnby5qcGdcIixcbiAgfSxcbl07XG5cbmNvbnN0IHBvcHVwSW1hZ2UgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoXCIjcG9wdXAtaW1hZ2VcIik7XG5cbnBvcHVwSW1hZ2Uuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuY29uc3QgZm9ybVByb2ZpbGUgPSBuZXcgRm9ybVZhbGlkYXRvcihcIi5wb3B1cF9fcHJvZmlsZS1mb3JtXCIsIHtcbiAgZm9ybVNlbGVjdG9yOiBcIi5wb3B1cF9fZm9ybVwiLFxuICBpbnB1dFNlbGVjdG9yOiBcIi5wb3B1cF9faW5wdXRcIixcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLnBvcHVwX19idXR0b25cIixcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJwb3B1cF9fYnV0dG9uX2Rpc2FibGVkXCIsXG4gIGlucHV0RXJyb3JDbGFzczogXCJwb3B1cF9faW5wdXRfdHlwZV9lcnJvclwiLFxuICBlcnJvckNsYXNzOiBcInBvcHVwX19lcnJvci12aXNpYmxlXCIsXG59KTtcblxuY29uc3QgZm9ybUNhcmQgPSBuZXcgRm9ybVZhbGlkYXRvcihcIi5wb3B1cF9fY2FyZC1mb3JtXCIsIHtcbiAgZm9ybVNlbGVjdG9yOiBcIi5wb3B1cF9fZm9ybVwiLFxuICBpbnB1dFNlbGVjdG9yOiBcIi5wb3B1cF9faW5wdXRcIixcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLnBvcHVwX19idXR0b25cIixcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJwb3B1cF9fYnV0dG9uX2Rpc2FibGVkXCIsXG4gIGlucHV0RXJyb3JDbGFzczogXCJwb3B1cF9faW5wdXRfdHlwZV9lcnJvclwiLFxuICBlcnJvckNsYXNzOiBcInBvcHVwX19lcnJvci12aXNpYmxlXCIsXG59KTtcblxuZm9ybVByb2ZpbGUuZW5hYmxlVmFsaWRhdGlvbigpO1xuZm9ybUNhcmQuZW5hYmxlVmFsaWRhdGlvbigpO1xuXG5jb25zdCBVc2VyID0gbmV3IFVzZXJJbmZvKFwiLnByb2ZpbGVfX3RleHRcIiwgXCIucHJvZmlsZV9fcHJvZmVzc2lvblwiKTtcblxuY29uc3QgcG9wdXBQcm9maWxlID0gbmV3IFBvcHVwV2l0aEZvcm0oXCIjcG9wdXAtcHJvZmlsZVwiLCAoaW5wdXRzKSA9PiB7XG4gIFVzZXIuc2V0VXNlckluZm8oaW5wdXRzLm5hbWUsIGlucHV0cy5kZXNjcmlwdGlvbik7XG59KTtcblxuY29uc3QgcG9wdXBDYXJkcyA9IG5ldyBQb3B1cFdpdGhGb3JtKFwiI3BvcHVwLWNhcmRcIiwgKGlucHV0cykgPT4ge1xuICBjb25zdCBuZXdDYXJkID0gbmV3IENhcmQoXG4gICAgaW5wdXRzLnRpdGxlLFxuICAgIGlucHV0cy5saW5rLFxuICAgIHBvcHVwSW1hZ2Uub3BlblxuICApLmdlbmVyYXRlQ2FyZCgpO1xuICBjYXJkWm9uZS5wcmVwZW5kKG5ld0NhcmQpO1xufSk7XG5cbnBvcHVwUHJvZmlsZS5zZXRFdmVudExpc3RlbmVycygpO1xucG9wdXBDYXJkcy5zZXRFdmVudExpc3RlbmVycygpO1xuXG5lZGl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIHBvcHVwUHJvZmlsZS5vcGVuKCk7XG59KTtcblxuYnV0dG9uQWRkQ2FyZC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBwb3B1cENhcmRzLm9wZW4oKTtcbn0pO1xuXG5jb25zdCBzaG93Q2FyZHMgPSBuZXcgU2VjdGlvbihcbiAge1xuICAgIGl0ZW1zOiBpbml0aWFsQ2FyZHMsXG4gICAgcmVuZGVyZXI6IChpdGVtKSA9PiB7XG4gICAgICBjb25zdCBjYXJkID0gbmV3IENhcmQoXG4gICAgICAgIGl0ZW0ubmFtZSxcbiAgICAgICAgaXRlbS5saW5rLFxuICAgICAgICBwb3B1cEltYWdlLm9wZW5cbiAgICAgICkuZ2VuZXJhdGVDYXJkKCk7XG4gICAgICBzaG93Q2FyZHMuYWRkSXRlbShjYXJkKTtcbiAgICB9LFxuICB9LFxuICBcIi5lbGVtZW50c1wiXG4pO1xuXG5zaG93Q2FyZHMucmVuZGVyZXIoKTtcbiJdLCJuYW1lcyI6WyJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiZXhwb3J0cyIsImRlZmluaXRpb24iLCJrZXkiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0Iiwib2JqIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIkNhcmQiLCJuYW1lIiwibGluayIsImhhbmRsZUNhcmRDbGljayIsIl9jbGFzc0NhbGxDaGVjayIsInRoaXMiLCJfbmFtZSIsIl9saW5rIiwiX2NhcmQiLCJnZXRUZW1wbGF0ZSIsIl9oYW5kbGVDYXJkQ2xpY2siLCJ2YWx1ZSIsInRlbXBsYXRlIiwiY2xvbmVOb2RlIiwiY29udGVudCIsInF1ZXJ5U2VsZWN0b3IiLCJfY2FyZEltYWdlIiwiX2NhcmRUaXRsZSIsIl9idXR0b25EZWxldGVDYXJkIiwiX2J1dHRvbkxpa2UiLCJzcmMiLCJ0ZXh0Q29udGVudCIsImFsdCIsImNsYXNzTGlzdCIsInRvZ2dsZSIsIl90aGlzIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZSIsImhhbmRsZUxpa2UiLCJzZXRQcm9wZXJ0aWVzIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJGb3JtVmFsaWRhdG9yIiwiZm9ybUVsZW1lbnQiLCJzZXR0aW5ncyIsIl9mb3JtRWxlbWVudCIsImRvY3VtZW50IiwiX2lucHV0TGlzdCIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJpbnB1dFNlbGVjdG9yIiwiaW5wdXRFbGVtZW50IiwiZXJyb3JNZXNzYWdlIiwiZXJyb3JFbGVtZW50IiwiY29uY2F0IiwiaWQiLCJhZGQiLCJpbnB1dEVycm9yQ2xhc3MiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2hpZGVJbnB1dEVycm9yIiwiX3Nob3dJbnB1dEVycm9yIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJpbnB1dExpc3QiLCJzb21lIiwiYnV0dG9uRWxlbWVudCIsIl9oYXNJbnZhbGlkSW5wdXQiLCJkaXNhYmxlZCIsIl90b2dnbGVCdXR0b25TdGF0ZSIsImZvckVhY2giLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwiZXZ0IiwicHJldmVudERlZmF1bHQiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJwb3B1cCIsImNsb3NlIiwiX3BvcHVwRWxlbWVudCIsIl9oYW5kbGVFc2NDbG9zZSIsImxlbmd0aCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJfdGhpczIiLCJwb3B1cE92ZXJsYXkiLCJvdmVybGF5IiwicGFyZW50Tm9kZSIsIlBvcHVwV2l0aEZvcm0iLCJfUG9wdXAiLCJoYW5kbGVGb3JtU3VibWl0IiwiX2NhbGxTdXBlciIsIl9oYW5kbGVGb3JtU3VibWl0IiwiX2luaGVyaXRzIiwiZm9ybVZhbHVlcyIsImNvbnNvbGUiLCJsb2ciLCJpbnB1dCIsIl9zdXBlclByb3BHZXQiLCJyZXNldCIsIl90aGlzMyIsImdldElucHV0VmFsdWVzIiwiUG9wdXBXaXRoSW1hZ2UiLCJpbWFnZU5vZGUiLCJTZWN0aW9uIiwiX3JlZiIsImNvbnRhaW5lclNlbGVjdG9yIiwiaXRlbXMiLCJyZW5kZXJlciIsIl9pdGVtcyIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJpdGVtIiwiZWxlbWVudCIsImFwcGVuZCIsIlVzZXJJbmZvIiwibmFtZVNlbGVjdG9yIiwiam9iU2VsZWN0b3IiLCJfam9iIiwiam9iIiwiY2FyZFpvbmUiLCJlZGl0QnV0dG9uIiwiYnV0dG9uQWRkQ2FyZCIsInBvcHVwSW1hZ2UiLCJmb3JtUHJvZmlsZSIsImZvcm1TZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsImVycm9yQ2xhc3MiLCJmb3JtQ2FyZCIsImVuYWJsZVZhbGlkYXRpb24iLCJVc2VyIiwicG9wdXBQcm9maWxlIiwiaW5wdXRzIiwic2V0VXNlckluZm8iLCJkZXNjcmlwdGlvbiIsInBvcHVwQ2FyZHMiLCJuZXdDYXJkIiwidGl0bGUiLCJvcGVuIiwiZ2VuZXJhdGVDYXJkIiwicHJlcGVuZCIsInNob3dDYXJkcyIsImNhcmQiLCJhZGRJdGVtIl0sInNvdXJjZVJvb3QiOiIifQ==